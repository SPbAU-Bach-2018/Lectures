\section{Ортогональное дополнение}

\begin{Def}
	$S \subset V$.
	\[ S^\bot = \{v \in V \mid \forall s \in S, (v, s) = 0\} \]
	$S^\bot$ "--- ортогональное дополнение к $S$.
\end{Def}

\begin{conseq}
	\begin{enumerate}
	\item
		$S^\bot \le V$.(подпространство векторного пространства)

	\item
		$S_1 \subset S_2 \Ra S_1^\bot \ge S_2^\bot$

	\item
		$S^\bot = \left<S\right>^\bot$.
		Ортогональное дополнение к $S$ совпадает
		с ортогональным дополнением к подпространству, порожденным $S$.

	\item
		$\{0\}^\bot = V$

	\item
		Если $(,)$ невырожденная, то $V^\bot = \{0\}$

	\item
		Если $(,)$ симметричная, кососимметричная, эрмитово симметричная, то
		\[ S \subset (S^\bot)^\bot (\Ra \left<S\right> \le (S^\bot)^\bot) \]

	\item
		$U_1, U_2 \le V$.
		\[ (U_1 + U_2)^\bot = U_1^\bot \cap U_2^\bot \]

	\item
		\[ (U_1 \cap U_2)^\bot \ge U_1^\bot + U_2^\bot \]
	\end{enumerate}
	\begin{Rem}
		Далее $K = \R$ либо $\C$ и $(,)$ "--- положительно определенная, симметричная (или эрмитово симметричная).
	\end{Rem}
	\begin{enumerate}
	\setcounter{enumi}{8}
	\item
	$$S \subset V$$
	$$\left<S\right> \cap S^{\bot} = \{0\}$$
	\item
		Если $\dim V = n < \infty$, и форма положительно определенная, то
		\[ U \le V, \dim U = k \Ra \dim U^\bot = n - k \]
		В частности $V = U \oplus U^\bot$.

	\item
		Если $\dim V < \infty$, то $\left<S\right> = (S^\bot)^\bot$.

	\item
		Если $\dim V < \infty$, то
		\[ (U_1 \cap U_2)^\bot = U_1^\bot + U_2^\bot \]
	\end{enumerate}
\end{conseq}
\begin{proof}
	\begin{enumerate}
	\item
		\[ 0 \in S^\bot \]
		Возьмём $v_1, v_2 \in S^\bot$, $s \in S$:
		\[ (\alpha_1 v_1 + \alpha_2 v_2, s) = \alpha_1(v_1, s) + \alpha_2(v_2, s) = 0 \]
		В силу произвольности $s$,
		\[ \alpha_1 v_1 + \alpha_2 v_2 \in S^\bot \]

		То есть $S^{\bot}$ замкнуто относительно $+$ и $\cdot$.

	\item
		$v \in S_2^\bot$, $S_1 \subset S_2$:
		\[
			\forall s \in S_2, (v, s) = 0
			\Ra \forall s \in S_1, (v, s) = 0
			\Ra v  \in S_1^\bot
		\]

	\item
		\[
			S \subset \left<S\right> \Ra S^\bot \ge \left<S\right>^\bot
		\]
		$v \in S^\bot$, $\forall s \in S, (v, s) = 0$,
		$\sum_i \alpha_i s_i \in \left<S\right>$ ($s_i \in S$, почти все $\alpha_i = 0$):
		\[
			\left(v, \sum_i \alpha_i s_i\right) = \sum_i \bar \alpha_i (v, s_i) = 0
			\Ra v \in \left<s\right>^\bot
		\]
		Проверили обратное включение, получили
		\[ S^\bot = \left<S\right>^\bot \]

	\item
		Очевидно.

	\item
		\[ V^\bot = \{u \colon \forall v \in V \colon (u, v) = 0\} \]
		Если $u \ne 0$, то в силу невырожденности
		\[ \exists v \in V \colon (u, v) \ne 0 \]
		откуда $V^\bot = \{0\}$.

	\item
		Предположение о форме влечет, что отношение ортогональности между векторами симметрично:
		\begin{gather*}
			(u, v) = 0 \Lra (v, u) = 0 \\
			S^\bot = \{v\colon \forall s \in S \colon (v, s) = 0\} \\
			s \in S, v \in S^\bot, (s, v) = (v, s) = 0 \Ra s \in (S^\bot)^\bot
		\end{gather*}

	\item
		\begin{gather*}
			U_1 \le U_1 + U_2, U_2 \le U_1 + U_2 \Ra \\
			\Ra U_1^\bot \ge (U_1 + U_2)^\bot, U_2^\bot \ge (U_1 + U_2)^\bot \Ra \\
			\Ra U_1^\bot \cap U_2^\bot \ge (U_1 + U_2)^\bot
		\end{gather*}
		$\bar v \in  U_1^\bot \cap U_2^\bot$
		\begin{gather*}
			v \in (U_1 \cup U_2)^\bot = \left<U_1 \cup U_2\right>^\bot = (U_1 + U_2)^\bot
		\end{gather*}

	\item
		\[ (U_1 \cap U_2)^\bot \supset U_1^\bot + U_2^\bot \]
		$w = w_1 + w_2$, $w_1 \in U_1^\bot$, $w_2 \in U_2^\bot$,
		$u \in U_1 \cap U_2$
		\[ (w, u) = (w_1 + w_2, u) = (w_1, u) + (w_2, u) = 0 \]
		В силу произвольности $u$ имеем $w \in (U_1 \cap U_2)^\bot$.

	\item
		\begin{gather*}
			U = \left<S\right>, S^\bot = U^\bot \\
			U \subset V, U \cap U^\bot = \{0\} \\
			v \in U \cap U^\bot \Ra (v, v) = 0
		\end{gather*}
		Так как форма положительно определенная, то $v = 0$.
		\begin{exmp}
			\begin{gather*}
				((x_1, x_2), (y_1, y_2)) = x_1 y_1 - x_2 y_1 \\
				v = (1, 1) \in \R^2 , (v, v) = 0 \\
				v \in \left<v\right>^\bot, s = \left<(1, 1)\right>
			\end{gather*}
			
			Положительная определенность существена. 
		\end{exmp}
		\begin{exmp}
			$\R^4$
			\[ (x, y) = x_1 y_1 - x_2 y_2 - x_3 y_3 - x_4 y_4 \]
			$(1, 1, 0, 0)$ "--- ортогонален сам себе.
		\end{exmp}
		\begin{Def}
			Если $(v, v) = 0$, то $v$ "--- изотропный вектор.
		\end{Def}
		\begin{exmp}
			$\mathbb{F}_2$, $V = \mathbb{F}_2^n$
			\[ (x, y) = \sum_{i = 1}^n  x_i y_i \]
			$(x, x) = 0$ тогда и только тогда, когда среди его координат четное число единичек.
		\end{exmp}

	\item
		$U \le V$.
		$u_1, \dots, u_k$ "--- базис $U$.
		Дополним до базиса $V$, ортогонализуем.
		$e_1, \dots, e_k, e_{k + 1}, \dots, e_n$ "--- ортонормированный базис $V$.
		$e_1, \dots, e_k$ "--- ортонормированный базис $u$ по построению в процессе ортогонализации Грама-Шмита.
		\[ U^\bot \ge \left<e_{k + 1}, \dots, e_n\right> \]
		Рассмотрим $v \in U^\bot$ и разложим по базису $v = \sum \alpha_i e_i$:
		\begin{gather*}
			j = 1..k, (v, e_j) = 0 \Ra \alpha_1 = \cdots = \alpha_k = 0 \\
			\Ra U^\bot \le \left<e_{k + 1}, \cdots, e_n\right> \\
			\Ra U^{\bot} = \left<e_{k + 1}, \cdots, e_n\right> \\
			\Ra \dim U^{\bot} = n - k\\
			U + U^\bot \le V \\
			\dim (U + U^\bot) = k + n - k - \dim (U \cap U^\bot) = n \\
			\Ra U + U^\bot = V \Ra U \oplus U^\bot = V
		\end{gather*}

	\item
		\begin{gather*}
			\dim \left<S\right> = k \\
			\dim S^\bot = \dim \left<S\right>^\bot = n - k \\
			\dim (S^\bot)^\bot = n - (n - k) = k \\
			\left<S\right> \le (S^\bot)^\bot
		\end{gather*}
		Размерности совпадают и одно подпространство другого, значит пространства совпадают.

		\begin{exmp}
			Обоснуем, зачем конечномерность.
			Рассмотрим следующее бесконечномерное векторное пространство:
			\[ V = l^2 = \{(a_1, a_2, \dots) \mid a_i \in \R, \sum_{i=1}^\infty a_i^2 < \infty\} \]
			И введём на нём скалярное произведение:
			\begin{gather*}
			A = (a_1, \dots) \\
			B = (b_1, \dots) \\
            (A, B) = \sum_{i = 1}^\infty a_i b_i
            \end{gather*}
            Следует показать, что это действительно скалярное произведение (определено и билинейно):
            \begin{proof}
				Покажем, что ряд сходится, даже абсолютно:
				\begin{gather*}
					|a_i b_i| \le \frac{a_i^2 + b_i^2}2 \Lra (|a_i| - |b_i|)^2 \ge 0 \\
					\sum_{i=1}^\infty |a_i b_i|
					\le \sum_{i=1}^\infty \frac{a_i^2 + b_i^2}2 = \frac12 \sum_{i = 1}^\infty a_i^2 + \frac12\sum_{i = 1}^\infty b_i^2 < \infty \\
				\end{gather*}
				Линейность:
				\begin{gather*}
					(A_1 + A_2, B) = (A_1, B) + (A_2, B) \\
					A_1 = (a_1', a_2', \dots) \quad A_2 = (a_1'', a_2'', \dots) \\
					\sum(a_i' + a_i'')b_i = \sum a_i'b_i + \sum a_i''b_i \\
				\end{gather*}
			\end{proof}
			Несколько примеров:
			\begin{gather*}
				\left(1, \frac12, \frac13, \dots\right) \in l^2
				\La
				\sum_{n = 1}^\infty \frac1{n^2} = \frac{\pi^2}6 \\
				\left(1, \frac1{\sqrt{2}}, \frac1{\sqrt{3}}, \dots\right) \notin l^2
			\end{gather*}
			Теперь рассмотрим подпространство
			$l^2_0 = \{(a_1, \dots) \mid \text{почти все $a_i = 0$}\}$
			(очевидно, что $\langle l^2_0 \rangle = l^2_0$) и покажем контрпример к утверждению:
			\begin{gather*}
				l_0^2 \le l^2 \\
				A \in (l_0^2)^\bot \\
				\forall i \colon A \perp (0, 0, \dots, 1, 0, \dots) = e_i \\
				0 = (A, e_i) = a_i \\
				(l_0^2)^\bot = \{0\}, ((l_0^2)^\bot)^\bot = \{0\}^\bot = l^2 \ne l_0^2
			\end{gather*}
		\end{exmp}

	\item
		$(U_1 + U_2)^\bot = U_1^\bot \cap U_2^\bot$  "--- верно для любого подпространства.
		В частности
		\begin{gather*}
			(U_1^\bot + U_2^\bot)^\bot = (U_1^\bot)^\bot = (U_1^\bot)^\bot \cap (U_2^\bot)^\bot = U_1 \cap U_2 \\
			(U_1 \cap U_2)^\bot = ((U_1^\bot + U_2^\bot)^\bot)^\bot = U_1^\bot + U_2^\bot
		\end{gather*}
	\end{enumerate}
\end{proof}
