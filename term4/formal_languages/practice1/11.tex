\chapter{Занятие 29.04.2016}
\setauthor{Всеволод Степанов}
\section{Разбор задач}

\problem{50}
Разбирал Юра Ребрик.

Обозначим за $n = \lceil \log_2 |\Gamma| \rceil$ 
Закодируем каждый символ исходного стекового алфавита ноликами и единичками, причем добьем ведущими нулями так, чтобы длина у всех была одинакова.

Когда мы хотим снять символ $c$ со стека и положить слово $w = w_1 \dots w_k$ на него, перейдя по символу $a \in (\Sigma \cup \{\epsilon\})$, мы делаем следующее.
Убираем этот переход, вместо этого рисуем бинарное дерево глубины $n$, каждое его ребро будет иметь вид $\epsilon, 0/\epsilon$, или $\epsilon, 1/\epsilon$. 
Сопоставим каждому листу этого дерева символ из $\Gamma$ (записали его номер в двоичной системе счисления, добили ведущими нулями до длины $n$).
Посмотрим на лист, соответствующий $c$, сделаем из него переход $c, \epsilon/w$ ($\epsilon$ в смысле что сняли символ и положили его обратно).
Только вместо $w$ на стек запишем его запись в двоичной системе счисления.

Еще надо заметить, что изначальное состояние некорректно, так как на стеке записан $z_0$. Надо его снять и честно записать его двоичный код, после чего уже писать автомат. 


\problem{51}
Разбирал Сева Степанов.

\subsection{Короткое решение}           

По МП-автомату построим грамматику, переведем ее в нормальную форму Хомского, потом переведем обратно в МП-автомат.
По построению (в теореме) получим автомат, где на каждом переходе мы на стек кладем не более двух символов

\subsection{Подробное решение}
Оно, на самом деле, повторяет кусок построения нормальной формы Хомского, только примененный к МП-автомату.

У нас есть переход $a, c/w_n\dots w_1$ из состояния $p$ в состояние $q$  (в итоге на вершине стека окажется $w_n$).

Заведем новое состояние $p_1$, добавим переход $a, c/x_1w_1$ из $p$ в $p_1$, где $x_1$ "--- специальный новый уникальный для этого перехода символ в стековом алфавите.
Теперь из $p_1$ сделаем переход $\epsilon, x_1/x_2w_2$ в новое состояние $p_2$. И так далее, последним переходом будет $\epsilon, x_{n-2}/w_n w_{n-1}$ из $p_{n-2}$ в $q$.

Ну а изначальный переход из $p$ в $q$ убираем.

\problem{52}
Разбирал Дима Лапшин.

Есть дерево вывода пустой строки из $A$. Если его глубина хотя бы $p + 2$ (при этом последний уровень состоит только из терминалов), то в нем есть два одинаковых нетерминала на каком-то вертикальном пути. 
Тогда можно взять нижний нетерминал с его поддеревом, подставить его вместо верхнего нетерминала, в итоге все равно получим корректный вывод пустой строки.

Теперь есть дерево глубины не более $p$, на $i$-м уровне не более $m^i$ нетерминалов (уровни нумеруем с нуля). 
Тогда всего переходов не более чем $m^0 + m^1 + \dots + m^{p-1} = \frac{m^p - 1}{m - 1}$ (последний $p$-й уровень состоит только из терминалов, его не рассматриваем).

\problem{35}
Разбирала Лиза Третьякова.

Построим контрпример. Рассмотрим $L = \{a^n b^n c^m d^m, n \geq 1\}$, он, очевидно, КС. Пусть все замкнуто относительно \t{CUT}. 
Значит $\t{CUT}(L)$ КС. Если пересечь его с регулярным языком, тоже получим КС (доказывали).

Пересечем $\t{CUT}(L)$ с $R = \{b^* c^* a^* d^*\}$, получим $\{b^m c^m a^n d^m\}$, а он не КС (просто применим лемму о накачке).

\problem{42}
Разбирал семинарист и завалился.

Была подсказка "--- нужно посмотреть на производящую функцию языка, который задается однозначной грамматикой.
Производящая функция языка "--- $\sum \limits_n | L \cap \{0, 1\}^n | z^n$ "--- просто говорим, сколько слов каждой длины.

Посмотрим на какой-то нетерминал $A$ однозначного языка, хотим понять вид производящей функции для него.
Она будет выглядеть как-то так: $f(A) = \sum z^{k_i} \cdot f(B_i) f(C_i) f(D_i) \dots$, суммируем по всем правилам, в $i$-м правиле $k^i$ терминалов.

Докажем, что $f(A) = \frac{p(z)}{q{z}}$. Если бы грамматика была бы линейной, то у нас была бы какая-то линейная система уравнений на $f(A)$, ее можно решить.
А в общем случае не понятно как это делать, но утверждается, что вроде это правда и для просто однозначной.

Если бы это получилось, то посчитаем производящую функцию для палиндромов, подставим какую-то хорошую рациональную точку, 
должны получить рациональное число (так как предположили, что язык однозначный), а получим иррациональное.
Но поскольку не получилось доказать про вид производящей функции, то и такую точку не стали искать. 
Но вроде так можно сделать и должно в теории заработать.

Утверждается, что она решается через лемму Огдена.


\section{Что делать дальше}
Задачи кончаются, лекции кончились. 
Что делать на следующих четырех практиках не понятно, на выходных Коля подумает. 
Можно порешать теорзадачки, можно что-то более практическое делать.
А еще есть предложение сдавать на практиках зачет.

