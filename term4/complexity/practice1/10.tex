\chapter{Занятие 15.04.2016}

\section{Разбор задач}
\subproblem{49}{a}
	Разбирала Лиза Третьякова.

	Пусть в одной доле графа $r$ вершин, а в другой "--- $s$.
	Перенумеруем вершины так, чтобы вершины первой доли шли в начале.
	Рассмотрим матрицу смежности нашего двудольного графа, она имеет следующий вид:
	\[
		\begin{vmatrix}
			0_r & B \\
			B^{\top} & 0_s
		\end{vmatrix}
	\]
	Если $r\neq s$, то совершенный паросочетаний точно нет.
	А если $r=s$, то матрица $B$ квадратная.
	Проведём биекцию между выборками перманента в $B$ и совершенными паросочетаниями.
	\TODO

\subproblem{49}{б}
	Разбирала Лиза Третьякова.

	Заметим, что определитель "--- это такая же сумма, как и перманент, но некоторые слагаемые
	идут со знаком минус, а не плюс, на чётность ответа это не влияет.
	Тогда посчитаем определитель матрицы в поле $\mathrm{F}_2$, получим чётность числа полных паросочетаний.

\subproblem{50}{а}
	Разбирал Петя Смирнов.

	Будем считать, что протокол $\AMA$ на строке $x$ работает так:
	\begin{enumerate}
		\item
			Сначала Артур генерирует случайную строку $s_1$ фиксированной длины $p_1(|x|)$
		\item
			Потом Мерлин даёт подсказку $w(s_1)$
		\item
			Потом Артур генерирует случайную строку $s_2$ фиксированной длины $p_2(|x|)$
		\item
			Потом Артур выдаёт вердикт $A(x, s_1, w(s_1), s_2)$
	\end{enumerate}
	Мы знаем, что в таком протоколе Артур выдаёт правильный ответ с вероятностью хотя бы $\sfrac 23$
	(вероятность берётся по всем строкам $s_1$, $s_2$).

	Рисуем дерево протокола: корень, из него рёбра с $s_1$, из этих вершин "--- рёбра с $w$,
	из них "--- рёбра с $s_2$.
	В листах мы пишем 0/1 (в зависимости от вердикта $A$), потом в вершинах-ходах-Артура пишем
	среднее (потому что берём вероятность), в вершинах-ходах-Мерлина берём максимум (потому что
	Мерлин хочет максимизировать вероятность ответа <<да>>).

	Либо считаем не среднее, а сумму, а в конце делим на $2^{|s_1|+|s_2|}$.

	\begin{Rem}
		То, что мы берём дополнительные случайные биты из генератора случайных бит, генератор никак не портит.
	\end{Rem}

\subproblem{50}{б}
	Разбирал Петя Смирнов.

	Опять рисуем дерево игры.
	Мерлин должен понять, какую строчку ему выдавать по первому ходу Артура $t$.
	Зафиксировали $t=h(s_1)$ (тут $h$ "--- первый ход Артура), потом перебираем
	все допустимые $s_1$ (для которых $t=h(s_1)$), потом вообще все $s_2$ и считаем вероятность того,
	что Артур согласится (вероятность по допустимым $s_1$ и всем $s_2$).

	Либо считаем не вероятность, а сумму, а в конце делим сумму по всем $t$-шкам на $2^{|s_1|+|s_2|}$.

	\TODO см. фотографии доски для формализации.

	\begin{Rem}
		В общем случае удобно перебирать сначала то, что посылает Артур Мерлину, потом
		подсказки Мерлина, потом случайные биты.
	\end{Rem}

\problem{45}
	Разбирала Оля Черникова.

	\begin{Rem}
		Решение методом $\IP=\PSPACE$ не засчитывается "--- этот факт стал извествен после того, как была дана задача.
	\end{Rem}

	На формальное определение $\IP$ мы забьём, будем описывать протокол словами.
	Вход задачи "--- $y$, мы хотим проверить существование $\sqrt y$ (это условное обозначение,
	соответствующее какому-нибудь корню из $y$).

	Предположим, что $m$ простое.
	Verifier действует так: выбирает случайное число $z$ и еще один случайный бит.
	Если бит "--- нолик, дадим prover'у число $z^2 \bmod m$, иначе дадим ему число $yz^2 \bmod m$.
	Попросим prover сказать, является ли число квадратичным вычетом.

	Формально не закончили.
	Формально могло бы звучать так: алгоритм у нас будет однораундовый.
	Если поймали за руку "--- говорим <<нет>>.
	Оценим вероятность того, что мы ошибёмся, отдельно в двух случаях: $x \in L$ и $x \notin L$.
	Мы посылаем пруверу сэмпл из случайного из двух распределений.
	В случае $x \in L$ они одинаковые, значит, прувер всегда выдаёт единицу с фиксированной вероятностью $p$.
	Ну и хорошо оценивается тогда вероятность ошибки в этом случае.
