\section{Оракулы для равенства и не равенства P и NP}
\begin{theorem} (Baker, Grill, Solovay)
	Существуют задачи $A, B$ такие, что
	\begin{enumerate}
	\item $P^{A} = NP^{A}$\\
	\item $P^{B} \ne NP^{B}$\\
	\end{enumerate}
\end{theorem}

\begin{proof}
\begin{enumerate}
\item 
	Рассмотрим $A = \{(M, x, 1^{n})| M(x) = 1 $ за $\le 2^n$ шагов $\}$
	Язык машин тьюринга, которые на входе x останавливаются меньше чем за $2^n$ шагов.

	Хотим доказать, что $P^A = EXP$ и $NP^A = EXP$.

	\begin{Def}
		$EXP = \cup_{p(n)}DTime(2^{p(n)})$
	\end{Def}

	Для $NP^{A}$ можем перебрать все подсказки, за полином проверять и каждый раз моделировать,
	все равно получится не более экспаненты, значит $NP^{A} \subset EXP$.

	EXP содержится в $P^A$, можем просто задавать вопросы оракулу. 

	Ну и тривиальное включение $P^A \subset NP^{A}$.

	Из этого следует, что $P^A = NP^{A}$\\
\item 
	Построим языки B и $U_B$.
	
	$U_{B}$ это такой унарный язык, проекция языка $B$. Если у нас есть слово длины n, 
	то в проекции есть слово из n палочек, а если нет, то нет.

	Каким бы не было $B$, $U_B$ принадлежит $NP^{B}$. Просим подсказку
	это слово такой же длины и спрашиваем у оракула, принадлежит ли это $B$.
	
	Перебираем все детерминированные оракульные машины $M_1, \cdots, M_n, \cdots $
	
	Запускаем машину $M_n(1^n)$ и в какой-то момент она спрашивает оракула. 
	
	Если мы уже добавили в слово в словарь, то говорим да, делать нечего. 
	Если еще не добавили, то говрим нет. 
	
	Ждем время $2^{\frac{n}{10}}$. Теперь смотрим, что она сказала. 
	
	Если она сказала да, то мы принимаем решение, что строчек такой длины в оракуле нет. 
	
	Теперь, если он сказал нет,то находим любую строчку, про которуе не знаем, что нет и отвечаем про нее да. 
	
	Если предыдущие машины спрашивали про строчки этой длины, то резерв-то все равно у нас останется, что бы выбрать строчку.  
\end{enumerate}
\end{proof}

\begin{Def}
	Relative это навешивание оракула. То есть когда факт не зависит от довешивания оракулов на машине. 
\end{Def}

\section{Полиномиальные схемы}
\begin{Def}
$L \in Size[f(n)]$, если существует семейство булевых схем $\{C_n\}_{n \in \N}$, такие, что 
\begin{enumerate}
\item $\forall n |C_n| \le f(n)$\\
\item $\forall x(x \in L \Lra C_{|x|}(X) = 1)$
\end{enumerate}
\end{Def}
\begin{Def}
$P/poly = \cup_{k \in \N}Size[n^k]$
\end{Def}
$P \subset P/poly$\\
Потому что просто умеем так строить. 

Обратное включение не верно. Возьмем язык из n палочек, если $M_n$ останавливается, 
то выдаем нет, если не останавливается, то да. Схема тривиально, это для данного $n$ 
просто константа. 

Если $L \in P/poly$
$\exists G \colon 1^n \to C_n$, то язык принадлежит $P$.

Мы не умеем доказывать, что $NP = P$, но может
мы можем доказать $NP \subset P/poly$. Конечно же нет...

\begin{theorem}
$NP \subset P/poly \Ra PH = \Sigma^2P$\\
\end{theorem}
\begin{proof}
Покажем, что $\Sigma^3P$ "--- полный язык $QBF_3$ лежит 
в $\Sigma^2P$.

Дали значит нам схемы, и сказали, что они решают SAT. Нужно проверить, 
правда это или нет. 

Проверки корректности схем для SAT:
$C_{|G|}(G) = C_{|G[x_1 = 0]}(G[x_1:= 0]) \vee C_{|G[x_1 = 1]}(G[x_1 = 1])$
и проверка корректности для тривиальных схем.

Хотим формулы с тремя кванторами решить с использованием двух.
$(\exists x\forall y \exists z(F)) \in QBF_3 \Lra\\
\exists$ схемы $C_1, \cdots, C_{|F|}$\\
$\exists x, \forall y$\\
$\forall G$ - булевы формулы длины $\le |F|$\\
(семейство $\{C_i\}$ корректно для $G$)$\wedge C_{|F|(F()x,y, z)} = 1$  
\end{proof}

Сколько функций $f\colon \{0, 1\}^n \to \{0, 1\}$ их $2^{2^n}$\\
$|C_n| = s(n)$ их примерно $2^{cs(n)}s(n)$

Значит есть функции, для которых нет схем. 

Теперь давай-те искать сложную функцию, прям экспаненциальную может быть сложно.
\begin{theorem}
$\forall k \Sigma^4P \not \subset Size[n^k]$\\
\end{theorem}
\begin{proof}
Из соображений мощности имеется $f\colon \{0, 1\}^n \to \{0, 1\}$, зависящая 
от первых $ck\log n$ битов, для которой нет булевой схемы размера $n^k$\\

Сконструируем такую функцию в $\Sigma^4P$\\
$y \in L \Lra \exists f \forall c$(схема размера $n^k$)\\
$f(x) \ne c(x)$ не принимается схемой.
$\wedge ((f \le f') \vee f'(x') = c'(x'))$
$\wedge f(y) = 1$ 
\end{proof}

\begin{conseq}
$\forall k \Sigma^2 P \cap \Pi^2P \ne \subset Size[n^k]$
\end{conseq}
\begin{proof}
$\Sigma^2P \cap \Pi^2P \subset Size[n^k] \Ra $\\
$NP \subset P/poly \Ra$\\
$PH = \Sigma^2P \cap \Pi^2P \subset Size[n^k]$\\
\end{proof}