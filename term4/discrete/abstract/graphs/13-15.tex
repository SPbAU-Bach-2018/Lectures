% Планарные графы (стр. 71)
% 11. Планарные графы и их основные свойства
\section{} % 13
	Граф планарен, если можно нарисовать на плоскости с кривыми рёбрами так, чтобы пересекались только в вершинах.
	Изображение "--- плоский граф $\tilde G$, способ изображения "--- правильное вложение.
	% стр. 72
	Лемма Жордана: если есть простая замкнутая кривая и есть кривая, которая начинается снаружи и кончается внутри, то есть пересечение.
	$K_5$ непланарен и имеет минимальное число вершин среди непланарных.
	От противного: пусть планарен, смотрим на цикл из четырёх вершин, потом выбираем грань для пятой, упс.
	Трюк: если пошли в какую-то грань, а целевая вершина лежит снаружи грани, то упс по Жордану.
	Ещё непланарен $K_{3,3}$ (минимальное число вершин среди непланарных).

	% стр. 73
	Планарный граф максимальный, если при добавлении любого ребра планарность теряет.
	Число пересечений графа "--- минимальное количество пересечений отрезков ($\cr(G)$, никакие три в одной точке не могут),
	это штука очень сложная, внезапно равна минимальному кол-ву рёбер, которые надо удалить, чтобы сделать граф планарным.
	У планарных $\cr=0$ по определению.
	Грань "--- односвязная область, ограниченная вершинами/рёбрами.
	Бывают внутренние и одна внешняя.
	% стр. 74
	Можно вкладывать на поверхность сферы.
	Теорема: планарен $\iff$ вкладывается на сферху (поставили сферу, спроецировали из полюса).
	Ещё можем через сферу сделать любую грань внешней.

	% стр. 75
	Любая грань ограничена набором вершин и рёбер (не обязательно связным), образующих границу $\partial f$ (они инцидентны границе).
	Две грани инцидентны, если имеют общее ребро.
	% стр. 76
	У грани есть степень "--- число рёбер, но ребро-мост (в смысле, у которого с двух сторон одна грань) учитывается дважды.
	Тогда сумма степеней граней равна $2E$.
	Принимаем на веру: каждое ребро либо разделяет, либо мост; у дерева одна грань; границы граней различны за исключением случая простого цикла.
	% стр. 77
	Граница грани "--- это объединение нескольких замкнутых маршрутов (в связном "--- один), необязательно простых (могут мешать мосты).
	Но в двусвязном любая граница "--- простой цикл, док-во: разбили на ручки, индукция по числу ручек, каждая ручка разбивает грань пополам.
	Следствие: в трёхсвязном плоско графе любые два соседа любой вершины $x$ лежат на общем цикле (что верно, в общем, для любых даже двусвязных),
	т.к. можно удалить $x$ и посмотреть на грань, в которой она лежала, все соседи лежат на границе этой грани, а граница "--- цикл.

	Двойственный граф $\tilde G^*$ к нарисованному графу $\tilde G$: помещаем в грань вершину, потом соединяем смежные грани (ребро-мост переходит в петлю и обратно).
	Двойственный к $k$-регулярному ($k$-валентному) называется $k$-ангуляцией, у него степень любой грани "--- $k$ (т.к. вершины переходят в грани).
	% стр. 78
	Теорема: двойственный связен, т.к. плоскость связна.
	Теорема: если $\tilde G$ связен, то $\tilde G^{**}$ ему изоморфен.
	Теорема: набор рёбер в $\tilde G$ образует цикл $\iff$ соответствующий набор рёбер в $\tilde G^*$ образует минимальный рёберный разрез.

	% стр. 79
	Граф $G^*$ абстрактно двойственен к произвольному $G$, если есть биекция между рёбрами, причём
	если рёбра в $G$ образуют цикл, то соотв. рёбра в $G^*$ образуют минимальный рёберный разрез.
	Без док-ва: планарен $\iff$ есть абстрактно двойственный.

	% стр. 80
	Графы можно вкладывать в плоскость по-разному топологически (см. степени граней).
	Строго односвязные графы могут вкладываться разными способами "--- вращаем блоки.
	Двусвязные, увы. тоже "--- рисуем конвертик с крышей (6 вершин, 10 рёбер), можно центр оставить внутри (триангуляция),
	а можно вынести наружу.
	А вот трёхсвязного "--- единственно (докажем дальше).


% 12. Формула Эйлера и её обобщения (стр. 81)
\section{} % 14
	Формула Эйлера: для связного плоского графа $В-Р+Г=2$, индукция по числу граней от единицы (для дерева).
	Отсюда все вложения графа имеют одинаковое число граней.
	Утверждение: если в графе $n$ вершин, то не более $3n-6$ рёбер, причём равенство только для триангуляции (где степени граней "--- 3).
	Док-во: рассматриваем только связные графы (в несвязных можно добавлять рёбра), степень любой грани $\ge 3$,
	сумма степеней равна сумме степеней рёбер, получаем $Г \le \sfrac23 Р$, пихаем в формулу Эйлера.
	А равенство только если все грани степени 3.
	Следствие: максимальный граф "--- триангуляция, если это не так, можем распилить грань большей степени на две (\TODO а рёбра-мосты?).
	Следствие: в простом плоском графе есть вершина степени не более пять.
	По Эйлеру непланарен $K_5$ (рёбер много) и $K_{3,3}$ (все циклы длины $\ge 4$, степень каждой грани тогда $\ge 4$,
	сумма степеней равна 18, граней $\le 4$, упс).

	% стр. 84
	Теорема Фэри: простой планарный можно вложить, причём рёбра будут отрезками прямых.
	А точнее "--- можно любую укладку <<распрямить>>, не меняя циклический порядок смежных вершин.
	Индукция по $n$ (база "--- $K_4$ и его подграфы).
	Переход: считаем, что граф "--- максимальный планарный.
	У него все грани (в том числе внешняя) имеют степень три, и есть хотя бы четыре вершины степени $\le 5$ (почему \TODO).
	Возьмём ту, которая не во внешней грани, удалим, остаток уложим, добавим вершину обратно в грань (в пятиугольнике всегда есть точка,
	из которой видны все вершины, строгого док-ва нет, только случаи по числу вершин с сильно развёрнутыми углами).

	% стр. 86
	Толщина графа "--- минимальное количество планарных подграфов, на которое можно его разбить.
	Толщина "--- это минимальное число слоёв печатной платы.
	Теорема: толщина не меньше $\frac{m}{3n-6}$, так как в каждом графе не более $3n-6$ рёбер.
	Например, можно показать для $K_n$ оценку в $\lfloor\frac{n+7}{6}\rfloor$, она даже оказывается точной при $n \neq 9,10$
	(а для 9 и 10 ответ "--- три).

% 13. Критерии планарности графов. Теорема Куратовского (стр. 87)
\section{} % 15
	Проверям на планарность отдельно все компоненты.
	Теорема: граф планарен $\iff$ все блоки планарны.
	$\Ra$ очевидно (т.к. подграф).
	$\La$: индукция по числу блоков в графе, база очевидна, для перехода берём крайний блок, рисуем остаток, переносим точку сочленения на внешнюю грань, вкладываем оставшийся блок.
	Определение подразбиения ребра "--- это мы заменили ребро на два (с созданием вершины).
	Подразбиение графа "--- последовательно подразбили какие-то рёбра (возможно, ноль).
	Утверждение: граф планарен $\iff$ любое подразбиение планарно.

	% стр. 89
	Томассен: если в трёхсвязном графе $\ge 5$ вершин, то есть ребро, стянув которое, граф всё ещё трёхсвязен.
	Док-во от противного: для каждого ребра найдётся вершина $z$ такая, что $\{x,y,z\}$ разделяющее.
	Тогда выберем $e$ и вершину $z$ так, чтобы одна из компонент остатка $(F)$ была максимальна по размеру.
	Обозначим $H=F\cup\{x, y\}$, это двусвязный подграф.
	А теперь берём ребро из $z$ в компоненту не-$F$ (такое есть, иначе можно $z$ подцепить к $F$).
	Если убить его и ещё одну произвольную вершину, то $H$ останется связен, но в нём больше вершин, чем в $F$, упс.

	% стр. 90
	Почти Татт:
	лемма о выпуклом вложении трёхсвязного графа без подграфов Куратовского: индукция по числу вершин, база $n \le 5$ руками.
	Переход: нашли по Томассену ребро, стянули в $z$, остаток вложили по индукции, все соседи $z$ лежат на общем цикле-границе грани.
	Тогда на нём лежат все соседи исходных вершин.
	Противоречия бывают двух видов: либо у них три общих соседа (тогда есть $K_5$), либо соседи пересекаются нетривиально в цикле (тогда есть $K_{3,3}$).
	Значит, противоречий нет, можно разместить одну вершину на месте $z$, а другую "--- в малой окрестности (в зависимости от угла).
	Отсюда Татт: если трёхсвязный планарен, то выпукло вкладывается.
	А вот двусвязный $K_{2,n}$ выпукло нельзя (без док-ва).

	% стр. 93
	Покажем, что любой минимальный непланарный, в котором нет подграфов Куратовского, трёхсвязен, получим, что таких не бывает и будет теорема Куратовского:
	граф не планарен $\iff$ он содержит подграф, являющийся подразбиением $K_5$ или $K_{3,3}$
	(тут $\La$ очевидно).
	Пусть есть такой минимальный непланарный $G$, он как минимум двухсвязен (иначе вложили блоки матрёшкой).
	Если не трёхсвязен, то есть разделяющее из двух вершин, при удалении получили компоненты связности.
	Добавим в каждую ребро $\{x, y\}$.
	Если все получились планарными, то граф нарисуем, значит, хотя бы одна непланарна.
	А раз одна непланарна, то в ней есть Куратовский.
	Но он мог там появиться только если мы добавили ребро $\{x,y\}$, которого не было,
	а тогда это ребро можно собрать подразбиением из другой компоненты.

	% стр. 95
	Теорема Вагнера: граф планарен $\iff$ у него нет миноров $K_5$ или $K_{3,3}$ (минор "--- улаляем вершины и стягиваем рёбра).
