\chapter{25.02.2016}

\section{Ориентация в формуле Стокса}
	Пусть у нас имеется поверхность и у неё есть ориентированная граница-контур.
	Тогда предположим, что мы "--- человечек, обходящий границу так, чтобы поверхность оставалась слева.
	Тогда при положительной ориентации поверхности нормаль будет торчать наверх, <<из головы>>.

\section{Задача 1 (долг)}\label{day160225_task1}
	Это \hyperref[day160218_task3]{задача 3 с прошлого раза}.
	Хотим посчитать криволинейный интеграл:
	\[
		\int\limits_{OA} y z \d x + 3 x z \d y + 2 x y \d z
	\]
	Кривая вот такая:
	\[
		\begin{cases}
			x = t \cos t \\
			y = t \sin t \\
			z = t^2 = x^2=y^2 \\
			0 \le t \le 2 \pi \\
			O(0, 0, 0) \\
			A(2\pi, 0, 4\pi^2)
		\end{cases}
	\]
	Это вот такая незамкнутая кривая, навёрнутая на параболоид, делает один поворот вокруг центра координат.
	Если её замкнуть, добавив отрезок $AO$ по параболоиде, то мы вырежем на параболоиде один конечный кусок (второй кусок будет бесконечный).
	\TODO картинка
	Заметим, что криволинейный интеграл по кривой $AO$ равен нулю, это легко понять, написав параметризацию этой кривой:
	\[ z = x ^ 2 + y ^ 2 \]
	Когда мы идём от $A$ до $O$ у нас $y=0$, поэтому $\d y = 0$, второе слагаемое в интеграле равно нулю,
	а первое и третье равны нулю, так как $y=0$.
	Осталось посчитать криволинейный интеграл по замкнутому контуру.
	Воспользуемся формулой Стокса.
	Мы знаем ориентацию кривой, надо определить ориентацию поверхности (см. выше).
	Утверждается, что нормаль поверхности должна смотреть <<внутрь>> параболоида (к оси $x=y=0$).
	Пишем формулу Стокса ($P=yz, Q=3zx, R=2xy$):
	\[
		% P Q R
		\int\limits y z \d x + 3 x z \d y + 2 x y \d z =
		\iint\limits_S
		(2x - 3x) \d y \d z +
		(y - 2y) \d z \d x +
		(3z - z) \d x \d y =
		\iint\limits_S -x\d y \d z - y\d z \d x + 2z \d x \d y
	\]
	Теперь давайте считать этот интеграл II рода по определению.
	Для этого нам надо посчитать нормаль к параболоиду, это можно сделать мнемонически через определитель,
	а потом подправить знак.
	Параболоид задавался следующим преобразованием:
	\[ (x, y) \to (x, y, z(x, y) = x^2+y^2) \]
	Теперь считаем к нему нормаль:
	\begin{gather*}
		\begin{pmatrix}
			\vec i & \vec j & \vec k \\
			\partd{x}{x} & \partd{y}{x} & \partd{z}{x} \\
			\partd{x}{y} & \partd{y}{y} & \partd{z}{y}
		\end{pmatrix}
		=
		\begin{pmatrix}
			\vec i & \vec j & \vec k \\
			1 & 0 & 2x \\
			0 & 1 & 2y
		\end{pmatrix}
		= (0\cdot2y - 2x\cdot 1, -(1\cdot2y-2x\cdot0), 1\cdot1 - 0\cdot 0)
		= (-2x, -2y, 1)
	\end{gather*}
	Надо поправить длину (сейчас длина равна $\sqrt{4x^2+4y^2+1}$), а вот знак наc устраивает "--- этот вектор смотрит внутрь параболоида:
	\[ \vec N(x, y, z) = \left(\frac{-2x}{\sqrt{4x^2+4y^2+1}}, \frac{-2y}{\sqrt{4x^2+4y^2+1}}, \frac{1}{\sqrt{4x^2+4y^2+1}}\right) \]
	Теперь считаем по определению \ref{int_surf_II_def} и формуле \ref{int_surf_I_graph}:
	\begin{gather*}
		\iint\limits_S -x\d y \d z - y\d z \d x + 2z \d x \d y =
		\iint\limits_S (-xN_x - yN_y + 2zN_z) \d S = \\
		= \iint\limits_D \left( (-xN_x - yN_y + 2z(x, y)N_z) \sqrt{\left(\partd z x\right)^2+\left(\partd z y\right)^2+1} \right) \d x \d y = \\
		= \iint\limits_D \left( (-xN_x - yN_y + 2z(x, y)N_z) \sqrt{4x^2+4y^2+1} \right) \d x \d y = \\
		= \iint\limits_D (-x(-2x) - y(-2y) + 2z(x, y) \cdot 1) \d x \d y = \\
		= \iint\limits_D (2x^2 + 2y^2 + 2x^2+2y^2) \d x \d y =
		4\iint\limits_D (x^2 + y^2) \d x \d y \circleeq
	\end{gather*}
	Теперь давайте поймём, как выглядит область $D$, а потом перейдём в полярные координаты.
	Область $D$ "--- это некоторый конечный кусок плоскости, ограниченный прообразом кривой с параболоида.
	Прообраз замкнутой кривой выглядит очевидно (так как $z$ задавался как функция от $x$ и $y$):
	\[
		\left[
			\begin{array}{l}
				\begin{cases}
					x = t \cos t \\
					y = t \cos t \\
					0 \le t \le 2\pi
				\end{cases} \\
				\begin{cases}
					x = u \\
					y = 0 \\
					0 \le u \le 2\pi 
				\end{cases}
			\end{array}
		\right.
		% \TODO картинка
	\]
	Получаем, что ограниченная этой кривой область на плоскости (т.е. $D$) в полярных координатах выглядит очень просто:
	\[
		\begin{cases}
			0 \le r \le \phi \\
			0 \le \phi < 2\pi
		\end{cases}
	\]
	Тогда, наконец, переводим интеграл в полярные координаты:
	\begin{gather*}
		\circleeq 4\iint\limits_D r^2 \cdot \underbrace{r}_{J} \d r \d \phi =
		4 \int_{0}^{2\pi} \left( \int_{0}^{\phi} r^3 \d r \right) \d \phi =
		4 \int_0^{2\pi} \left.\left( \frac{r^4}{4} \right)\right|_0^{\phi} \d \phi =
		\int_0^{2\pi} \phi^4 \d \phi = \\
		= \left.\left(\frac{\phi^5}{5}\right)\right|_0^{2\pi} =
		\frac{(2\pi)^5}{5} =
		\frac{32\pi^5}{5}
	\end{gather*}
	Итого ответ "--- $\frac{32\pi^5}{5}$.

\section{Замечание от Егора про ориентацию поверхности}
	На прошлом занятии у нас была формула \ref{int_surf_II_coords} и задачи \ref{day160218_task1} и \ref{day160218_task2},
	которые мы через неё решали, забывая про ориентацию поверхности.
	Утверждается, что ориентацию поверхности при использовании этой формулы стоит понимать следующим образом:
	\begin{enumerate}
		\item
			Выбираем произвольную точку $B$ нашей гладкой поверхности и её прообраз $A$.
		\item
			Считаем частные производные $\vec r'_u$ и $\vec r'_v$ в точке $A$ "--- это два трёхмерных вектора:
			\begin{gather*}
				\vec r'_u(A) = \left(\partd xu(A), \partd yu(A), \partd zu(A)\right) \\
				\vec r'_v(A) = \left(\partd xv(A), \partd yv(A), \partd zv(A)\right)
			\end{gather*}
			Эти два вектора задают касательную плоскость к поверхности в точке $B$.
		\item
			Считаем их векторное произведение "--- $\vec r'_u \times \vec r'_v \eqcolon \vec n$
		\item
			Откладываем $\vec n$ от точки $B$ "--- это и есть направление нормали, с которым
			будет считать формула \ref{int_surf_II_coords}.
			На самом деле точное значение $\vec n$ нам тут не требуется, достаточно лишь его направления,
			которого легко выясняется из направлений векторов $\vec r'_u$ и $\vec r'_v$.
	\end{enumerate}

	Например, в случае с эллипсоидом будет удобно взять точку $B=(a, 0, 0)$ и её прообраз $A=(0, 0)$.
	Тогда частные производные получатся такие:
	\begin{align*}
		\vec r'_u(A) &= (0, b, 0) \\
		\vec r'_v(B) &= (0, 0, c) \\
		\vec n &= \vec r'_u(A) \times \vec r'_v(A) = (bc, 0, 0)
	\end{align*}
	Таким образом, получаем, при использовании формулы \ref{int_surf_II_coords} мы получим интеграл по эллипсоиду
	в случае, если нормаль смотрит <<наружу>> эллипсоида.
	Соответственно, если в исходной задаче нас просили бы считать, что нормаль смотрит <<внутрь>>,
	при переходе по формуле требуется сменить знак.

	Обычно подобные рассуждения хорошо проходят с картинкой "--- вряд ли нам скажут, куда смотрит нормаль,
	если мы не можем как-то представить себе поверхность.
	А на картинке уже должно быть легко найти произвольную точку, в которой касательная плоскость
	(и, соответственно, частные производные) будут просто выглядеть.
	Нам достаточно одной точки, потому что ориентаций всего две.

\section{Задача 2 (полный дифференциал)}
	Найти следующий криволинейный интеграл II рода:
	\begin{gather*}
		\int_{AB} (15x^2y+3z^2)\d x + (5x^3-2yz)\d y + (6xz-y^2) \d z \\
		A(1, 2, 1) \\
		B(2, 3, 3)
	\end{gather*}
	Известно, что под интегралом написан полный дифференциал функции, то есть
	конкретная кривая между точками $A$ и $B$ неважна "--- значение будет одинаковое.


	\subsection{Решение от Никиты}
		Можно явно найти потенциальную функцию $F$ (от которой написан полный дифференциал) и взять
		разность в двух концах.
		Условие:
		\[
			\begin{cases}
				\partd{F}{x} = 15x^2y + 3z^2 \\
				\partd{F}{y} = 5x^3-2yz \\
				\partd{F}{z} = 6xz-y^2
			\end{cases}
		\]
		Методом пристального взгляда можно понять, что функция $F$ является многочленом
		не очень большой степени, можно подобрать коэффициенты и вычислить ответ:
		\begin{gather*}
			F = 5x^3 y + 3xz^2 - y^2z \\
			\int_{AB} = F(B) - F(A) =
			(5\cdot2^3\cdot3 + 3\cdot2\cdot3^2 - 3^2\cdot3) - (5\cdot1^3\cdot2 + 3\cdot1\cdot1^2 - 2^2\cdot1) =
			147 - 9 = 138
		\end{gather*}

	\subsection{Решение от семинариста}
		Так как у нас по условию полный дифференциал
		(\TODO это еще надо проверить? "--- непонятно, что имелось в виду под этой фразой),
		то можно брать произвольный путь между точками $A$ и $B$.
		Давайте возьмём путь, который сначала идёт вдоль оси $OX$, потом вдоль оси $OY$,
		потом вдоль оси $OZ$.
		Криволинейный интеграл распался на сумму трёх обычных:
		\begin{gather*}
			\int_{[(1,2,1);(2,3,3)]} (15x^2y+3z^2)\d x + (5x^3-2yz)\d y + (6xz-y^2) \d z = \\
			= \int_{[(1,2,1);(2,2,1)]} (15x^2y+3z^2)\d x +
			\int_{[(2,2,1);(2,3,1)]} (5x^3-2yz)\d y  +
			\int_{[(2,3,1);(2,3,3)]} (6xz-y^2) \d z = \\
			= \int_1^2 (15x^2\cdot2+3\cdot1^2)\d x +
			\int_2^3 (5\cdot2^3-2y\cdot1)\d y  +
			\int_1^3 (6\cdot2z-3^2) \d z = \\
			= \int_1^2 (30x^2+3)\d x +
			\int_2^3 (40-2y)\d y  +
			\int_1^3 (12z-9) \d z = \\
			= \left(3 + 30\left(\frac{2^3}{3}-\frac{1^3}{3}\right)\right) +
			\left(40 - 2\left(\frac{3^2}{2}-\frac{2^2}{2}\right)\right) +
			\left(12\left(\frac{3^2}{2}-\frac{1^1}{2}\right)-9\cdot2\right) =
			73 + 35 + 30 = 138
		\end{gather*}
		Ответ получился тот же самый: 138.

\section{Задача 3 (Остроградский-Гаусс)}
	$\Phi$ "--- внешняя сторона (нормаль смотрит наружу) сферы $(x-a)^2+(y-b)^2+(z-c)^2=R^2$.
	Хотим посчитать интеграл:
	\[
		\Pi = \iint_{\Phi} x^2\d y \d z + y^2 \d z \d x + z^2 \d x \d y
	\]
	Вспоминаем формулу Остроградского-Гаусса (теорема 7.4.1 в конспекте за III семестр):
	\[
		\iint_{\delta K} P\d y \d z + Q \d z \d x + R\d x \d y =
		\iiint_K \left(\partd{P}{x}+\partd{Q}{y}+\partd{R}{z}\right) \d x \d y \d z
	\]
	Положим $K$ равным нашей сфере (очевидно, компакт), тогда $\delta K = \Phi$.
	Переписываем исходный интеграл:
	\[
		\Pi = \iiint_K \left(2x + 2y + 2z\right) \d x \d y \d z
	\]
	Давайте предположим, что мы посчитали такой же интеграл по сфере с центром в $(0, 0, 0)$,
	а не в $(a, b, c)$ и он равен $\Pi'$ "--- будет проще жить, так как ответ изменится на константу,
	а поверхность станет проще.
	Более формально:
	\begin{align*}
		\Pi' &= \iiint_{x^2+y^2+z^2=R^2} \left(2x+2y+2z\right)\d x \d y \d z \\
		\Pi &= \iiint_{(x-a)^2+(y-b)^2+(z-c)^2=R^2} \left(2x+2y+2z\right)\d x \d y \d z = \\
			&= \iiint_{(x+a-a)^2+(y+b-b)^2+(z+c-c)^2=R^2} \left(2(x+a)+2(y+b)+2(z+b)\right)\d (x+a) \d (y+b) \d (z+c) = \\
			&= \iiint_{x^2+y^2+z^2=R^2} \left(2x+2y+2z+2(a+b+c)\right)\d x \d y \d z = \\
			&= \iiint_{x^2+y^2+z^2=R^2} \left(2x+2y+2z\right)\d x \d y \d z + \frac{4}{3}\pi R^3 \cdot 2(a+b+c)= \\
			&= \Pi' + \frac{4}{3}\pi R^3 \cdot 2(a+b+c)
	\end{align*}
	Теперь посчитаем $\Pi'$ по формуле Остроградского-Гаусса, для этого нужны частные производные:
	\begin{gather*}
		\partd{P}{x} = 2x \\
		\partd{Q}{y} = 2y \\
		\partd{R}{z} = 2z \\
		\Pi' = \iint_{\Phi=\delta K} = \iiint_{K} \left(2x+2y+2z\right)\d x \d y \d z = 0
	\end{gather*}
	Этот интеграл ноль, так как у под интегралом очень симметричное выражение.
	Например, при фиксированных $y$ и $z$ интеграл по $\d x$ выродится в ноль, так как он от нечётной функции
	по симметричному отрезку.
	Таким образом ответ той разности, что мы считали в начале:
	\[2\cdot \frac{4}{3}\pi R^3 (a+b+c) \]

\section{Задача 4 (Стокс, не разобрана)}
	Хотим посчитать интеграл вдоль кривой $L$ от точки $A$ до точки $B$:
	\begin{gather*}
		\int_{L[A;B]} y \d x + z \d y + x \d z \\
		L = \begin{cases}
			x = \cos t \\
			y = \sin t \\
			z = t \\
			0 \le t \le 2 \pi
		\end{cases} \\
		A(1, 0, 0) \\
		B(1, 0, 2\pi)
	\end{gather*}
	Эта кривая не замкнута и является кусочком спирали.
	Нам надо её как-то замкнуть, причём так, чтобы она была границей какой-то понятной поверхности.
	Например, добавить отрезок $BA$ так просто нельзя "--- мы получим в лучшем случае кусочно-гладкую поверхность,
	к тому же весьма непонятной формы.

	Подсказка: надо брать следующую поверхность: зажатая между $L$ и единичной окружностью в плоскости
	$z=0$ (это такой треугольник, который <<намотали на цилиндр>>)
	\TODO картинка
	Можно еще потом для проверки взять криволинейный интеграл честно
